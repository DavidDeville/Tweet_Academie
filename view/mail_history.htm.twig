{% extends 'memberbase.htm.twig' %}

{% block title %}Messagerie{% endblock %}

{% block nav %}
  <nav class='navbar navbar-expand-lg navbar-dark bg-primary'>
    <a class='navbar-brand' href='#'>Tweet Académie</a>
    <button class='navbar-toggler' type='button' data-toggle='collapse' data-target='#navbarColor01' aria-controls='navbarColor01' aria-expanded='false' aria-label='Toggle navigation'>
      <span class='navbar-toggler-icon'></span>
    </button>

    <div class='collapse navbar-collapse' id='navbarColor01'>
      <ul class='navbar-nav mr-auto'>
        <li class='nav-item active'>
          <a class='nav-link' href='#'>Home Page<span class='sr-only'>(current)</span></a>
        </li>
        <li class='nav-item'>
          <a class='nav-link' href='#'>Messages</a>
        </li>
        <li class='nav-item'>
          <a class='nav-link' href='profile.php?account={{ account_name }}'>{{ account_name }}</a>
        </li>
        <li class='nav-item'>
          <a class='nav-link' href='logout.php'>Log Out</a>
        </li>
      </ul>
    </div>
  </nav>

  <button id='theme' class='btn btn-secondary align-items-center'>Theme : </button>

{% endblock %}

{% block body %}
    <div class="col-12 mt-3">
        <div class="card-header text-white m"><span class="">Currently chatting with [member's name]{{ members }}</span></div>
        <div class="jumbotron bg-secondary">
            <p class="lead">[Endroit où on affiche les messages de la conversation avec le foreach]</p>
            {% for message in messages %}
                {% if message.current_user %}
                    <div class="d-flex justify-content-end lead mt-4"><span class="border border-blue rounded p-2 text-dark bg-warning ">{{ message.current_user_message }}</span></div>
                {% else %}
                    <div class="d-flex lead mt-4"><span class="border border-purple rounded-lg p-2 text-dark bg-success">{{ message.member_message }}</span></div>                    
                {% endif %}
            {% endfor %}
            <div class="mt-5">
              <label for="exampleFormControlTextarea1" class="text-info ml-1"><h4><strong>Chatbox</strong></h4></label>            
              <div class="row 11 ml-1">
                <div class="input-group-text bg-primary border-0 text-light col-0 rounded-0" type="button">+</div>
                <textarea class="form-control col-8 bg-primary border-0 rounded-0 text-light" aria-label="With textarea"></textarea>
                <button type="button" class="btn btn-primary col-1 border-0 rounded-0 text-light">Insert image</button>
                <button type="button" class="btn btn-primary col-1 border-0 rounded-0 text-light">Send message</button>
              </div>
        </div>
    </div>
{% endblock %}

{% block javascript %}
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
  <script src='js/user_settings.js'></script>
{% endblock %}